(self.webpackChunkwi_znet_documentation=self.webpackChunkwi_znet_documentation||[]).push([[1572],{3905:function(e,t,i){"use strict";i.d(t,{Zo:function(){return c},kt:function(){return d}});var r=i(67294);function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t){if(null==e)return{};var i,r,n=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var s=r.createContext({}),p=function(e){var t=r.useContext(s),i=t;return e&&(i="function"==typeof e?e(t):o(o({},t),e)),i},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var i=e.components,n=e.mdxType,a=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=p(i),d=n,w=m["".concat(s,".").concat(d)]||m[d]||u[d]||a;return i?r.createElement(w,o(o({ref:t},c),{},{components:i})):r.createElement(w,o({ref:t},c))}));function d(e,t){var i=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=i.length,o=new Array(a);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var p=2;p<a;p++)o[p]=i[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,i)}m.displayName="MDXCreateElement"},23088:function(e,t,i){"use strict";i.r(t),i.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return c},default:function(){return m}});var r=i(22122),n=i(19756),a=(i(67294),i(3905)),o=["components"],l={id:"how_to_write_firmware_into_wizwiki_w7500p",title:"How to write the firmware into WIZwiki-W7500p",date:new Date("2020-04-07T00:00:00.000Z")},s=void 0,p={unversionedId:"Product/Mbed-WIZwiki-Platform/WIZwiki-W7500P/how_to_write_firmware_into_wizwiki_w7500p",id:"Product/Mbed-WIZwiki-Platform/WIZwiki-W7500P/how_to_write_firmware_into_wizwiki_w7500p",isDocsHomePage:!1,title:"How to write the firmware into WIZwiki-W7500p",description:"There are four ways to write firmware into.",source:"@site/docs/Product/Mbed-WIZwiki-Platform/WIZwiki-W7500P/How_to_write_the_firmware_into_WIZwiki_W7500P.md",sourceDirName:"Product/Mbed-WIZwiki-Platform/WIZwiki-W7500P",slug:"/Product/Mbed-WIZwiki-Platform/WIZwiki-W7500P/how_to_write_firmware_into_wizwiki_w7500p",permalink:"/Product/Mbed-WIZwiki-Platform/WIZwiki-W7500P/how_to_write_firmware_into_wizwiki_w7500p",editUrl:"https://github.com/Wiznet/document_framework/tree/master/docs/Product/Mbed-WIZwiki-Platform/WIZwiki-W7500P/How_to_write_the_firmware_into_WIZwiki_W7500P.md",tags:[],version:"current",frontMatter:{id:"how_to_write_firmware_into_wizwiki_w7500p",title:"How to write the firmware into WIZwiki-W7500p",date:"2020-04-07T00:00:00.000Z"},sidebar:"docs",previous:{title:"How to install WIZwiki-W7500p serial driver",permalink:"/Product/Mbed-WIZwiki-Platform/WIZwiki-W7500P/how_to_install_wizwiki_w7500p_serial_driver"},next:{title:"How to Debug WIZwiki-W7500p",permalink:"/Product/Mbed-WIZwiki-Platform/WIZwiki-W7500P/how_to_debug_wizwiki_w7500p"}},c=[{value:"Examples Binary",id:"examples-binary",children:[]},{value:"Using the CMSIS-DAP (Drag and Drop)",id:"using-the-cmsis-dap-drag-and-drop",children:[]},{value:"Using CMSIS-DAP Debugger",id:"using-cmsis-dap-debugger",children:[{value:"To Follow",id:"to-follow",children:[]},{value:"Reference",id:"reference",children:[]}]},{value:"Using the ISP",id:"using-the-isp",children:[]},{value:"How to connect an external SWD debugger to WIZwiki-W7500",id:"how-to-connect-an-external-swd-debugger-to-wizwiki-w7500",children:[{value:"Using the SWD debugger",id:"using-the-swd-debugger",children:[]},{value:"Reference",id:"reference-1",children:[]}]}],u={toc:c};function m(e){var t=e.components,l=(0,n.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"There are four ways to write firmware into.  "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Using the CMSIS-DAP (Drag and Drop)"),(0,a.kt)("li",{parentName:"ul"},"Using the CMSIS-DAP (through Keil uVision5)"),(0,a.kt)("li",{parentName:"ul"},"Go to ISP tool manual & Program download"),(0,a.kt)("li",{parentName:"ul"},"Using the SWD Debugger")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"examples-binary"},"Examples Binary"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Hardware test & Loop back binary (WIZwiki-W7500 default binary) :",(0,a.kt)("a",{href:"/img/products/w7500/overview/w7500x_wztoe_manu.zip",target:"_blank"},"Download")),(0,a.kt)("li",{parentName:"ul"},"LED Blink binary :",(0,a.kt)("a",{href:"/img/products/w7500/overview/wizwki-w7500_led_blink.zip",target:"_blank"},"Download")),(0,a.kt)("li",{parentName:"ul"},"Serial Out binary :",(0,a.kt)("a",{href:"/img/products/w7500/overview/wizwki-w7500_serial_led.zip",target:"_blank"},"Download"))),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"using-the-cmsis-dap-drag-and-drop"},"Using the CMSIS-DAP (Drag and Drop)"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"When you connect the USB cable to the WIZwiki-W7500, PC recognized as a removable disk. Removable disk name is MBED.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},'You "drag and drop" or copy the firmware to the removable disk, the firmware writing progress has completed.',(0,a.kt)("br",{parentName:"p"}),"\n",(0,a.kt)("img",{alt:"Drag and drop",src:i(3383).Z}))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"After completing the firmware writing, open to check the removable disk.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},'If "fail.txt" file is exists in the removable disk, it means writing the firmware has failed.')),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"After pressing the Reset button (SW1) of WIZwiki- W7500, please repeat the steps from step 2."))),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"using-cmsis-dap-debugger"},"Using CMSIS-DAP Debugger"),(0,a.kt)("p",null,"CMSIS-DAP does support USB cable and Debugger as well. You need to ",(0,a.kt)("a",{parentName:"p",href:"how_to_debug_wizwiki_w7500#set-flash-algorithm"},"Set Flash Algorithm")," to use CMSIS-DAP Debugger in Keil.  "),(0,a.kt)("h3",{id:"to-follow"},"To Follow"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click 'Flash' in top menu and open 'Configure Flash Tools'. Set 'Debug' on top menu with choosing 'CMSIS-DAP Debugger'.\n",(0,a.kt)("img",{src:i(60585).Z}))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click 'Utilities' and choose 'CMSIS-DAP Debugger'. Open 'Settings' menu and unchecked 'SWJ' in Debug menu. Then confirm 'ARM CoreSight SW-DP' set on SW Device.\n",(0,a.kt)("img",{src:i(41140).Z}))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Next to the Debug menu bar, Click 'Flash Download' and set 'Erase Full Chip' in Download Function, '0x20000000 to 0x4000' in RAM for Algorithm, Add 'W7500_128KB_FLASH' on Programming Algorithm. After checking it with below figure, click 'OK'.\n",(0,a.kt)("img",{src:i(37796).Z}),"  ")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Download the firmware into WIZwiki-W7500. You can check complete message and the CMSIS-DAP Debugger at the bottom. Chick the 'Debug icon' or ",(0,a.kt)("strong",{parentName:"p"},"Ctrl+F5")," to debug.\n",(0,a.kt)("img",{src:i(8028).Z})))),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"reference"},"Reference"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"[Set Flash Algorithm]","( ",(0,a.kt)("a",{parentName:"li",href:"how_to_debug_wizwiki_w7500p#set-flash-algorithm"},"Set Flash Algorithm"))),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"using-the-isp"},"Using the ISP"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"W7500P ISP Program")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"../../iMCU/W7500/documents/appnote/How_to_use_ISP_tool"},"ISP")),(0,a.kt)("p",null,"When W7500P is in the BOOT mode, firmware writing is possible via the\nUSB Cable. As USB Connector supports the UART2 signals, you need to\nconnect between your PC and WIZwiki-W7500P with Mini-USB Cable.",(0,a.kt)("br",{parentName:"p"}),"\n","Please refer the block diagram setting as below.",(0,a.kt)("br",{parentName:"p"}),"\n",(0,a.kt)("img",{alt:"ISP Block Diagram",src:i(94455).Z})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"To follow")),(0,a.kt)("p",null,"1",".",' Run "W7500',"_",'ISP (20xxxxxx) .exe"',(0,a.kt)("br",{parentName:"p"}),"\n",(0,a.kt)("strong",{parentName:"p"},"W7500P uses the same as W7500 ISP Program.")," ",(0,a.kt)("img",{alt:"ISP Program",src:i(80732).Z})),(0,a.kt)("p",null,"2","."," ",(0,a.kt)("strong",{parentName:"p"},"To make WIZwiki-W7500P enter the Boot Mode, supply power once\nwhile pressing the SW2,BOOT switch."),(0,a.kt)("br",{parentName:"p"}),"\n","3",".",' Select the device connected to USB Cable from "Serial Port" and\nclick "Open". If you entered Boot Mode successfully, then "Serial Open\nComplete" message will be printed on the status bar at the bottom of\nwindow.  '),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Before click the open button of ISP tool, we suggest you to test it\nin other terminal windows.",(0,a.kt)("br",{parentName:"strong"}),'After opening serial port using the terminal windows,enter the capital\n"U". If it is in the ISP mode, you can see the returned character.'))),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"ISP Program Setting",src:i(82706).Z})),(0,a.kt)("p",null,"4",".",' Click "Browse" to select the binary file.',(0,a.kt)("br",{parentName:"p"}),"\n",(0,a.kt)("img",{alt:"ISP Program Binary Select",src:i(23749).Z})),(0,a.kt)("p",null,"5",".",' Click "ISP Start" button, then the firmware writing will be\nperformed.',(0,a.kt)("br",{parentName:"p"}),"\n","6","."," After the firmware writing completes, the window like below will pop\nup.",(0,a.kt)("br",{parentName:"p"}),"\n",(0,a.kt)("img",{alt:"ISP Complete",src:i(54507).Z})),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"how-to-connect-an-external-swd-debugger-to-wizwiki-w7500"},"How to connect an external SWD debugger to WIZwiki-W7500"),(0,a.kt)("p",null,"This page shows how to write and debug firmware in WIZwiki-W7500 with an external SWD debugger. When you need to debug firmware, you have two ways. One is debugging with an external SWD debugger and the other is using the CMSIS-DAP debugger. In this page, how to debug firmware with the SWD debugger is posted only."),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"using-the-swd-debugger"},"Using the SWD debugger"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"You can find SWD Header in the middle of WIZwiki-W7500 and Debugger Sel Jumper with three caps above it.",(0,a.kt)("br",{parentName:"p"}),"\n","Then open the J3, J4, J5 jumper cap in Debugger Sel Jumper.",(0,a.kt)("br",{parentName:"p"}),"\n","Now, your WIZwiki-W7500 is ready to connect the SWD debugger.\n",(0,a.kt)("img",{src:i(86039).Z}),(0,a.kt)("br",{parentName:"p"}),"\n","")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Connect ULINK debugger and SWD Header. At this moment, be careful of matching pin number.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Setting ",(0,a.kt)("a",{parentName:"p",href:"how_to_debug_wizwiki_w7500#set-flash-algorithm"},"Flash Algorithm")," and ULINK debugger in Keil and",(0,a.kt)("br",{parentName:"p"}),"\n","Download on WIZwiki-W7500. Then you can check the success message."))),(0,a.kt)("p",null,(0,a.kt)("img",{src:i(59774).Z})),(0,a.kt)("p",null,(0,a.kt)("img",{src:i(40043).Z})),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"reference-1"},"Reference"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"how_to_debug_wizwiki_w7500#set-flash-algorithm"},"How to set Flash Algorithm"))),(0,a.kt)("hr",null))}m.isMDXComponent=!0},3383:function(e,t,i){"use strict";t.Z=i.p+"assets/images/drap_n_drop-d54d2406de3f2035c73ef7a42b4c036b.png"},60585:function(e,t,i){"use strict";t.Z=i.p+"assets/images/cmsis_debug_1-735323a25e7faa2d7aaffc5cac65ede3.jpg"},41140:function(e,t,i){"use strict";t.Z=i.p+"assets/images/cmsis_debug_2-1-c50d0d1bfdefb8acdf35983e8de68f0c.jpg"},37796:function(e,t,i){"use strict";t.Z=i.p+"assets/images/cmsis_debug_3-1-beeed2970ff5e4736a7ec230e9784e9e.jpg"},8028:function(e,t,i){"use strict";t.Z=i.p+"assets/images/cmsis_debug_4-87e0563f91f297c38f51f4401d41ec9c.jpg"},80732:function(e,t,i){"use strict";t.Z=i.p+"assets/images/isp-d99c8c2773cb153fc3e5c3dbb74cbcbd.png"},54507:function(e,t,i){"use strict";t.Z=i.p+"assets/images/isp_complete-d58f285a67bbe16016b3372d8bc320a6.png"},82706:function(e,t,i){"use strict";t.Z=i.p+"assets/images/isp_set-c4026973798fe0b5b2acce904a282be5.png"},23749:function(e,t,i){"use strict";t.Z=i.p+"assets/images/isp_start-1bf7055c13fb87d7e1c0a25d42c34348.png"},40043:function(e,t,i){"use strict";t.Z=i.p+"assets/images/set_flash_in_keil-4219575f18a20f318e4b64c41ff4e7c4.png"},59774:function(e,t,i){"use strict";t.Z=i.p+"assets/images/set_ulink_in_keil5-3861c92d8c9c6bd44c39aed252c2fd5e.png"},86039:function(e,t,i){"use strict";t.Z=i.p+"assets/images/swd_header_debugger_jumper-12974f2a215d87f003e58ad633a8c9e8.png"},94455:function(e,t,i){"use strict";t.Z=i.p+"assets/images/isp_block_2-58c81e7bb7c77d53f841a6f280f278a4.png"}}]);