<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<link rel="search" type="application/opensearchdescription+xml" title="WIZnet Document System" href="/opensearch.xml"><title data-react-helmet="true">WizFi310 GMMP (Global M2M Protocol) 연동 가이드 | WIZnet Document System</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="WizFi310 GMMP (Global M2M Protocol) 연동 가이드 | WIZnet Document System"><meta data-react-helmet="true" name="description" content="1. GMMP(Global M2M Protocol)"><meta data-react-helmet="true" property="og:description" content="1. GMMP(Global M2M Protocol)"><meta data-react-helmet="true" property="og:url" content="https://doc.wiznet.io/docs/Product/Wi-Fi-Module/WizFi310/Programers-Guide/gmmp_example"><link data-react-helmet="true" rel="shortcut icon" href="/img/wizfavicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://doc.wiznet.io/docs/Product/Wi-Fi-Module/WizFi310/Programers-Guide/gmmp_example"><link rel="stylesheet" href="/styles.27799f16.css">
<link rel="preload" href="/styles.413cdf69.js" as="script">
<link rel="preload" href="/runtime~main.f54b763e.js" as="script">
<link rel="preload" href="/main.fba6c6f6.js" as="script">
<link rel="preload" href="/1.171ba466.js" as="script">
<link rel="preload" href="/2.b98f2df4.js" as="script">
<link rel="preload" href="/3.18a04464.js" as="script">
<link rel="preload" href="/1be78505.0d1935e2.js" as="script">
<link rel="preload" href="/20ac7829.e3ea8621.js" as="script">
<link rel="preload" href="/17896441.629849c2.js" as="script">
<link rel="preload" href="/cf6e5a6f.1a6d1d6b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/wiznet_logo_110x37.png" alt="My Site Logo"><strong class="navbar__title"></strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Wiznet/document_framework" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">⌘</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/wiznet_logo_110x37.png" alt="My Site Logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/Wiznet/document_framework" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">WizFi310 GMMP (Global M2M Protocol) 연동 가이드</h1></header><div class="markdown"><p><img src="/img/products/wizfi250/thingplug_logo.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="1-gmmpglobal-m2m-protocol"></a>1. GMMP(Global M2M Protocol)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-gmmpglobal-m2m-protocol" title="Direct link to heading">#</a></h2><p><img src="/img/products/wizfi250/flow.png"><br>
GMMP는 M2M 단말과 개방형 M2M 플랫폼(OMP) 사이의 TCP 기반 연동 규격으로서, 단말 등록/해지, 주기보고, 단말
제어 등의 기능을 수행하는 SK Telecom 내부 규격이다.<br>
WizFi310은 WiFi로 SKT의 개방형 IoT 플랫폼인 ThingPlug와 연동하고, 수집한 데이터를 ThingPlug로
전송하는 M2M GW 역할을 수행한다. ThingPlug에 저장된 데이터는 TCP 기반의 OpenAPI를 통해
Application 등을 통해 데이터를 실시간 모니터링 할 수 있으며, WizFi310을 제어, 관리할 수 있다.  </p><p><img src="/img/products/wizfi250/flow1.png">  </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="2-wizfi310-thingplug-연동"></a>2. WizFi310 ThingPlug 연동<a aria-hidden="true" tabindex="-1" class="hash-link" href="#2-wizfi310-thingplug-연동" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="wizfi310을-thingplug의-디바이스로-등록하기"></a>WizFi310을 ThingPlug의 디바이스로 등록하기<a aria-hidden="true" tabindex="-1" class="hash-link" href="#wizfi310을-thingplug의-디바이스로-등록하기" title="Direct link to heading">#</a></h3><p>WizFi310이 ThingPlug와 연동을 확인하기 위해서는 우선 ThingPlug 테스트 사이트에 디바이스(WizFi310)을
등록해야 한다.  </p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="thingplug-테스트-사이트"></a>ThingPlug 테스트 사이트<a aria-hidden="true" tabindex="-1" class="hash-link" href="#thingplug-테스트-사이트" title="Direct link to heading">#</a></h5><p><a href="https://sandbox.sktiot.com" target="_blank" rel="noopener noreferrer">https://sandbox.sktiot.com</a><br>
위 링크의 &#x27;가이드 다운로드&#x27;에서 &#x27;디바이스(TCP) 등록 가이드&#x27; 참고 </p><p>로그인 후 &#x27;디바이스&#x27; -&gt; &#x27;디바이스 정보&#x27; -&gt; &#x27;디바이스 등록&#x27; -&gt; &#x27;개별 등록&#x27;에서 디바이스를 등록할 수 있다.<br>
<img src="/img/products/wizfi250/add_device.png"></p><ul><li><strong>서비스명</strong> : ThingPlug</li><li><strong>서비스 프로토콜</strong>: GMMP</li><li><strong>이동전화번호/MAC Address</strong>: WizFi310의 MAC Address를 입력한다. 모듈 상단에 프린트 되어 있으며, &#x27;AT+MMAC=?&#x27; 명령으로 확인할 수 있다.</li><li><strong>디바이스 이름</strong>: 사용자 임의대로 입력한다.</li><li><strong>디바이스 시리얼 번호</strong>: 체크박스를 선택해 MAC Address를 사용한다.</li><li><strong>제조사 아이디</strong>: 제조사가 부여한 아이디를 입력한다.(개인일 경우 임의로 입력한다.)</li><li><strong>Always On 여부</strong>: 사용</li></ul><p><img src="/img/products/wizfi250/add_device2.png"></p><ul><li><strong>플랫폼 제어메시지 수신망</strong>: &#x27;IP_WIRE&#x27;를 선택한다.</li><li><strong>수신 Address</strong>: 임의의 IPv4 주소를 입력한다.(ex&gt; 192.168.1.1)</li></ul><p><strong> 입력정보에 대한 정보는 &#x27;ThingPlug 디바이스(TCP) 등록 가이드&#x27;에서 확인할 수 있다. </strong>  </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="wizfi310-gmmp-등록"></a>WizFi310 GMMP 등록<a aria-hidden="true" tabindex="-1" class="hash-link" href="#wizfi310-gmmp-등록" title="Direct link to heading">#</a></h3><p>ThingPlug 사이트에서 디바이스(TCP)등록을 하며 입력했던 정보를
바탕으로 WizFi310에서 GMMP로 GW와 Device를 등록할 수 있다.</p><ul><li>디바이스(TCP) 등록을 한 상태라면 &#x27;디바이스 조회&#x27;에서 &#x27;승인완료-단말 Regi. 필요&#x27; 상태를 확인할 수 있다.</li><li>MAC Address: 0008dc1e3222, 디바이스 아이디: WizFi310_1E3222 제조사 아이디: WIZnet 으로 디바이스(TCP) 등록시 아래와 같은 정보를 확인할 수 있다.</li></ul><p><img src="/img/products/wizfi250/device_1_need_regi.png"><br>
<img src="/img/products/wizfi250/device_2_need_regi.png"></p><ul><li>이후 &#x27;AT+GMMPSET&#x27; 명령어를 이용해 WizFi310을 ThingPlug의 GMMP 단말로 등록할 수 있다.</li><li>위 정보로 등록했을 때 아래 명령을 사용한다. 명령의 파라메터는 &#x27;3. GMMP 프로토콜을 사용하기 위한 WizFi310 AT Commands&#x27;에서 확인할 수 있다.</li></ul><p><code>AT+GMMPSET=1,61.250.21.211,31002,ThingPlug,0008dc1e3222,WIZnet,0008dc1e3222</code></p><ul><li>정상적으로 등록이 완료 되었다면 GW의 디바이스 아이디(GW ID) &quot;SC10010254&quot;와 Device 의 디바이스 아이디(Device ID) &quot;AD10014858&quot;가 등록된 것을 확인할 수 있다.</li></ul><p><img src="/img/products/wizfi250/device_3_end_regi.png"><br>
<img src="/img/products/wizfi250/device_4_end_regi.png"><br>
<img src="/img/products/wizfi250/device_5_end_regi.png">  </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3-gmmp-프로토콜로-데이터-전송"></a>3. GMMP 프로토콜로 데이터 전송<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3-gmmp-프로토콜로-데이터-전송" title="Direct link to heading">#</a></h2><p><img src="/img/products/wizfi250/gmmp_message.png"> GMMP 프로토콜을 사용하여 M2M 단말과 M2M
플랫폼(ThingPlug) 사이의 단말 등록/해지, 주기 보고, 단말 제어의 기능을 수행할 수 있다. 단말 등록은 2.
WizFi310 GMMP 연동에서 설명한 내용이다.<br>
3. GMMP 프로토콜로 데이터 전송 에서 다룰 내용은 &quot;주기 보고&quot;와 TCP 세션 유지를 위한 &quot;Heartbeat&quot; 이다.  </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="heartbeat-message"></a>HEARTBEAT Message<a aria-hidden="true" tabindex="-1" class="hash-link" href="#heartbeat-message" title="Direct link to heading">#</a></h3><p>WizFi310은 Always On 방식을 사용한다. Always On은
TCP 세션을 지속적으로 연결하고 있어야 하기 때문에 주기적으로 Heartbeat 메세지를 전송하고 그에 대한 결과를 수신하면서
TCP 세션을 유지할 수 있다.  </p><ul><li>먼저 WizFi310(M2M GW)는 아래의 정보가 포함된 GMMP 메세지를 M2M 플랫폼(ThingPlug)으로 전송한다.  </li><li>WizFi310에서 Heartbeat Period를 설정하기 위해서는 &quot;AT+GMMPOPT=11&quot; 명령을 사용한다.</li><li>AT+GMMPOPT=11,5 명령을 사용하면 Heartbeat Period를 5분으로 설정할 수 있다.</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">OMP</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">Marker</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">OPS</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">GW</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">OMP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">GMMP_SetHB Start </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">OMP</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">Marker</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">REQ</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  AuthID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0008</span><span class="token plain">dc1e3222</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Auth Key </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">SP10033827key</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  T</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">ID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">55</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Domain Code </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">ThingPlug</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  GW ID</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">SC10010254</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">GW</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">OMP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">GMMP_SetHB End </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Recv Header Type </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Read Body Size </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">26</span></div></div></div></div></div><ul><li>M2M 플랫폼(ThingPlug)은 Heartbeat 메세지를 수신했다면, 아래의 Response 메세지를 WizFi310으로 다시 보내준다.</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">OMP</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">Marker</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">RSP</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">OMP</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">GW</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">OPERATION_HEARTBEAT_RSP Start </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  AuthID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0008</span><span class="token plain">dc1e3222</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Auth Key </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">SP10033827key</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  T</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">ID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">55</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Domain Code </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">ThingPlug</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  GW ID</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">SC10010254</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">OMP</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">Marker</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">OPE</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="delivery-message"></a>DELIVERY Message<a aria-hidden="true" tabindex="-1" class="hash-link" href="#delivery-message" title="Direct link to heading">#</a></h3><p>WizFi310(M2M GW)에서 수집한 데이터를 GMMP_Packet_Delivery_Request 메세지를 이용해서
M2M 플랫폼(ThingPlug)으로 전송하고, 그에 대한 처리 결과를 GMMP_Packet_Delivery_Response
메세지로 수신한다.  </p><p>WizFi310에서 M2M 플랫폼(ThingPlug)로 데이터를 보내기 위해서는 AT+GMMPDATA와 AT+GMMPOPT=12
두 가지 명령어를 사용한다. &quot;AT+GMMPDATA=0,보낼 데이터&quot; 명령을 사용하면 WizFi310이 &quot;보낼 데이터&quot;를
기억하고, 주기적으로 ThingPlug로 보내게 된다.<br>
만약 AT+GMMPDATA 명령 사용 즉시 데이터를 전송하기 위해서는 &quot;AT+GMMPDATA=1,보낼 데이터&quot; 명령을
사용한다.<br>
주기 설정은 &quot;AT+GMMPOPT=12,\&lt;min&gt;&quot; 명령을 사용하면 \&lt;min&gt;분 마다 주기 데이터를 보낸다.</p><ul><li>먼저 WizFi310(M2M GW)는 아래의 정보가 포함된 GMMP 메세지를 M2M 플랫폼(ThingPlug)으로 전송한다.</li><li>usMessageBody가 보낼 데이터이다.</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">OMP</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">Marker</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">OPS</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">GW</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">OMP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">GMMP_SetDelivery Start </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">OMP</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">Marker</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">REQ</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  AuthID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0008</span><span class="token plain">dc1e3222</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Auth Key </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">SP10033827key</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  T</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">ID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">129</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Domain Code </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">ThingPlug</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  GW ID</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">SC10010254</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Device ID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  ucReportType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0x1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  ucMediaType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0x1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  usMessageBody </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">WizFi310 test data </span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain">@#$</span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><ul><li>위의 데이터를 ThingPlug에 제대로 전송했는지 여부는 Result Code[0x0], STATUS_OK을 통해 확인할 수 있다.</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">GW</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">OMP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">GMMP_SetDelivery End </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Recv Header Type </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Read Body Size </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">43</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">OMP</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">Marker</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">RSP</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">OMP</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">GW</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">OPERATION_DELIVERY_RSP Start </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  AuthID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0008</span><span class="token plain">dc1e3222</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Auth Key </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">SP10033827key</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  T</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">ID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">129</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Domain Code </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">ThingPlug</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  GW ID</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">SC10010254</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Device ID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Result Code</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0x0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> STATUS_OK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  unBackOffTime </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">OMP</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">Marker</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">OPE</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="4-application에서-데이터-조회-및-장치-제어"></a>4. Application에서 데이터 조회 및 장치 제어<a aria-hidden="true" tabindex="-1" class="hash-link" href="#4-application에서-데이터-조회-및-장치-제어" title="Direct link to heading">#</a></h2><p><img src="/img/products/wizfi250/application_message.png"></p><p>WizFi310이 GMMP를 이용해 ThingPlug에 보낸 데이터를 조회하거나 WizFi310을 제어하기 위해서 OpenAPI를
사용한다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="thingplug-openapi-사용-방법"></a>ThingPlug OpenAPI 사용 방법<a aria-hidden="true" tabindex="-1" class="hash-link" href="#thingplug-openapi-사용-방법" title="Direct link to heading">#</a></h3><p>ThingPlug 사이트의 &quot;개발자 지원&quot; -&gt; &quot;Open API 테스트&quot; 메뉴에서 테스트를 진행할 수 있다. 이 테스트를 실제
Application에서 적용하기 위해서는 &quot;서비스 App 등록&quot;에서 등록 후 승인을 통해 App의 인증 아이디와 인증 키를 발급
받아야 한다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="데이터-조회"></a>데이터 조회<a aria-hidden="true" tabindex="-1" class="hash-link" href="#데이터-조회" title="Direct link to heading">#</a></h3><ul><li>&quot;Open API 선택&quot;을 눌러 테스트 진행할 Open API를 선택한다. WizFi310(M2M GW)에서 보낸 최신 데이터를 조회하려면 &quot;GW 주기보고 최신 데이터 조회&quot;를 선택한다.</li></ul><p><img src="/img/products/wizfi250/app_1_view_list.png">  </p><ul><li>테스트에 사용할 App을 선택한다. App 등록 후 승인을 받게 되면 이 앱 리스트에 등록한 App이 나타나게 된다.</li><li>테스트를 위해 &quot;Service Default App&quot;을 선택한다.</li></ul><p><img src="/img/products/wizfi250/app_2_app.png">  </p><ul><li>테스트를 진행할 디바이스(GW)를 선택한다.</li></ul><p><img src="/img/products/wizfi250/app_3_device.png">  </p><ul><li>테스트 실행을 클릭하면 선택한 Open API의 실행결과를 확인할 수 있다.</li><li>&lt; content&gt;와 &lt; content&gt; 사이의 데이터가 WizFi310(M2M GW)에서 ThingPlug로 보낸 데이터 이다.</li><li>V2l6RmkyNTAgdGVzdCBkYXRhICFAIyQlXiYqKCk=</li><li>이 데이터는 Base64로 Encoding 되어 있기 때문에 Base64 Decoding이 필요하다.</li></ul><p><img src="/img/products/wizfi250/app_4_result.png">  </p><ul><li>&quot;V2l6RmkyNTAgdGVzdCBkYXRhICFAIyQlXiYqKCk=&quot; 을 Base64로 Decoding을 하게 되면
WizFi310에서 보냈던 &quot;WizFi310 test data !@#$%^&amp;*()&quot;을 확인할 수 있다.</li></ul><p><img src="/img/products/wizfi250/app_5_decode.png">  </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="장치-제어"></a>장치 제어<a aria-hidden="true" tabindex="-1" class="hash-link" href="#장치-제어" title="Direct link to heading">#</a></h3><p><img src="/img/products/wizfi250/control_1_flow.png"><br>
Application을 이용해서 WizFi310을 제어하는 과정은 위와 같은 절차에 따라서 진행된다.  </p><ul><li>Application이 ThingPlug로 제어 요청 메세지를 보내면, TingPlug는 WizFi310에 GMMP 제어요청을 하게 된다.</li><li>WizFi310은 GMMP 제어 요청을 받고, 동작을 수행 한다.</li><li>이후, WizFi310은 동작 수행 결과 ThingPlug로 보낸다.</li><li>Application에서 제어요청 결과조회 메세지를 ThingPlug로 보내게 되면, 응답 메세지로 제어 수행 결과를 확인할 수 있다.</li></ul><p>Open API로 테스트 하는 방법은 데이터 조회와 동일하다. 대부분의 제어 명령은 &quot;제어 요청&quot;과 &quot;결과 조회&quot; 두가지로 되어있다. 아래 예제는 WizFi310(GW)의 상태를 확인하는 &quot;GW Status Check&quot; 이다.</p><p><img src="/img/products/wizfi250/control_2_openAPI.png">  </p><ul><li>Open API 중 &quot;GW Status Check&quot;를 사용해서 Application이 ThingPlug로 제어 요청 메세지를 보내면 아래와 같은 응답을 받게 된다.</li><li>stateActionStatus의 내용은 PROGRESS로 ThingPlug가 제어 명령을 수신했다는 의미이다.</li></ul><p><img src="/img/products/wizfi250/control_3_req_result.png">  </p><ul><li>Open API 중 &quot;GW Status Check 결과조회&quot;를 사용해서 ThingPlug가 수집한 WizFi310의 Status를 응답으로 받는다.</li><li>stateActionStatus의 내용은 SUCCESS로 제어 성공을 나타낸다.</li><li>operationState은 단말의 운용 상태를 나타낸다. PAUSE는 일시 중지 상태이다.</li><li>reportState의 데이터 보고 기능 상태를 나타낸다. ON은 데이터 보고기능 ON을 나타낸다.</li></ul><p><img src="/img/products/wizfi250/control_4_res_result.png">  </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="5-gmmp-프로토콜을-사용하기-위한-wizfi310-at-commands"></a>5. GMMP 프로토콜을 사용하기 위한 WizFi310 AT Commands<a aria-hidden="true" tabindex="-1" class="hash-link" href="#5-gmmp-프로토콜을-사용하기-위한-wizfi310-at-commands" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="사용하는-at-command-list"></a>사용하는 AT command List<a aria-hidden="true" tabindex="-1" class="hash-link" href="#사용하는-at-command-list" title="Direct link to heading">#</a></h3><ul><li>AT+MMSG</li><li>AT+GMMPSET</li><li>AT+GMMPDATA</li><li>AT+GMMPOPT</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="atmmsg"></a>AT+MMSG<a aria-hidden="true" tabindex="-1" class="hash-link" href="#atmmsg" title="Direct link to heading">#</a></h4><ul><li>Format: AT+MMSG=&lt; level &gt;</li><li>GMMP 관련 이벤트 로그, 디버그 프린트를 위해서 메시지 출력 레벨을 3으로 설정한다. 이벤트 로그, 디버그 프린트 각각의 설정은 AT+GMMPOPT로 설정 가능하다. \ \</li><li>ex) AT+MMSG=3</li></ul><table><thead><tr><th>Element</th><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>level</td><td>1</td><td>응답을 출력하지 않는다.</td></tr><tr><td>:::</td><td>2</td><td>응답과 이벤트 로그를 출력한다.(Default)</td></tr><tr><td>:::</td><td>3</td><td>응답, 이벤트, 디버그를 출력한다.</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="atgmmpset"></a>AT+GMMPSET<a aria-hidden="true" tabindex="-1" class="hash-link" href="#atgmmpset" title="Direct link to heading">#</a></h4><ul><li>Format: AT+GMMPSET=&lt; Start &gt;,&lt; ThingPlug IP &gt;,&lt; Thingplug Port &gt;,&lt; Domain Code &gt;,&lt; Auth ID &gt;,&lt; Manufacture ID &gt;,&lt; Device ID &gt;</li><li>GMMP_GW_Registration 절차를 수행하기 위한 설정. 사전에 <a href="https://sandbox.sktiot.com%EC%97%90%EC%84%9C" target="_blank" rel="noopener noreferrer">https://sandbox.sktiot.com에서</a> 디바이스(TCP) 등록이 되어 있어야 G/W, Device 등로 한다.</li><li>ThingPlug의 IP, Port, Domain Code, WizFi310의 Auth ID, Manufacture ID, Device ID를 설정한다. \ \</li><li>ex) AT+GMMPSET=1,61.250.21.211,31002,ThingPlug,0008dc000000,WIZnet_GWMFID,deviceID</li><li>ex) AT+GMMPSET=0</li></ul><table><thead><tr class="header"><th>Element</th><th>Example</th><th>Description</th></tr></thead><tbody><tr class="odd"><td>Start</td><td>1 or 0</td><td>1: GMMP_GW_Registration과 GMMP_Delivery를 수행한다. GMMP_Delivery는 AT+GMMPDATA가 설정되어있어야 한다.<br>0: GMMP_Delivery를 중지한다.</td></tr><tr class="even"><td>ThingPlug IP</td><td>61.250.21.211</td><td>ThingPlug의 IP를 입력한다.</td></tr><tr class="odd"><td>ThingPlug Port</td><td>31002</td><td>ThingPlug의 TCP Listen Port를 입력한다.<br>ThingPlug-&gt;마이페이지-&gt;서비스 정보수정에서 확인 가능</td></tr><tr class="even"><td>Domain Code</td><td>ThingPlug</td><td>ThingPlug의 서비스명을 입력한다.<br>ThingPlug-&gt;마이페이지-&gt;서비스 정보수정에서 확인 가능</td></tr><tr class="odd"><td>Auth ID</td><td>0008dc1e000000</td><td>디바이스 등록시 입력한 MAC Address를 입력한다.<br>ThingPlug-&gt;디바이스 정보-&gt;디바이스 조회에서 확인 가능</td></tr><tr class="even"><td>Manufacture ID</td><td>WIZnet_GWMFID</td><td>제조사 ID를 입력한다.<br>ThingPlug-&gt;디바이스 정보-&gt;디바이스 조회에서 확인 가능</td></tr><tr class="odd"><td>Device ID</td><td>deviceID</td><td>디바이스 ID를 입력한다.<br>디바이스 고유의 ID를 사용한다.</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="atgmmpdata"></a>AT+GMMPDATA<a aria-hidden="true" tabindex="-1" class="hash-link" href="#atgmmpdata" title="Direct link to heading">#</a></h4><ul><li>Format: AT+GMMPDATA=&lt; Option &gt;,&lt; Data &gt;</li><li>OMP로 보내고 싶은 데이터를 해당 AT command를 이용해서 설정할 수 있다.</li><li>옵션에 따라 AT Command 이후 즉시 보내거나, 설정된 주기마다(AT+GMMPOPT로 설정) 데이터(Report type: Collect Data)를 보낼 수 있다.</li><li>ex) AT+GMMPDATA=0,test data</li><li>ex) AT+GMMPDATA=1,test data</li></ul><table><thead><tr class="header"><th>Element</th><th>Example</th><th>Description</th></tr></thead><tbody><tr class="odd"><td>Option</td><td>0 or 1</td><td>0: 설정된 주기마다 보낼 데이터를 설정한다.<br>1: AT명령 즉시 데이터를 보낸다.</td></tr><tr class="even"><td>Data</td><td>DATA</td><td>데이터</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="atgmmpopt"></a>AT+GMMPOPT<a aria-hidden="true" tabindex="-1" class="hash-link" href="#atgmmpopt" title="Direct link to heading">#</a></h4><ul><li>Format: AT+GMMPOPT=&lt; Option &gt;,&lt; values &gt;</li><li>AT+GMMPOPT의 옵션에는 3가지가 있다.</li></ul><ol><li>이벤트 로그. 디버그 프린트를 설정</li><li>Heartbeat 주기 설정</li><li>Reporting 주기 설정</li></ol><p><strong>&lt; Option &gt; = 10</strong></p><ul><li>&lt; Option &gt; = 10은 이벤트 로그, 디버그 프린트를 설정하는 옵션이다. \ \</li><li>ex) AT+GMMPOPT=10,&lt; set &gt;,&lt; val1 &gt;,&lt; val2 &gt;</li></ul><table><thead><tr class="header"><th>Element</th><th>Example</th><th>Description</th></tr></thead><tbody><tr class="odd"><td>set</td><td>0 or 1</td><td>0: 현재 설정된 값을 읽는다.<br>1: val1, val2의 값으로 설정한다.</td></tr><tr class="even"><td>val1</td><td>0 or 1</td><td>0: 이벤트 로그를 프린트 하지 않는다.<br>1: 이벤트 로그를 프린트 한다.</td></tr><tr class="odd"><td>val2</td><td>0 or 1</td><td>0: 디버그 메세지를 프린트하지 않는다.<br>1: 디버그 메세지를 프린트 한다.</td></tr></tbody></table><p><strong>&lt; Option &gt; = 11</strong></p><ul><li>&lt; Option &gt; = 11은 Heartbeat 패킷의 전송 주기(Heartbeat Period)이다. \ \ </li><li>ex) AT+GMMPOPT=11,&lt; period &gt;</li></ul><table><thead><tr><th>Element</th><th>Example</th><th>Description</th></tr></thead><tbody><tr><td>period</td><td>10</td><td>Heartbeat 패킷 전송 주기(단위: 분)</td></tr></tbody></table><p><strong>&lt; Option &gt; = 12</strong></p><ul><li>&lt; Option &gt; = 12은 Delivery 패킷의 전송 주기(Report Period)이다. \ \</li><li>ex) AT+GMMPOPT=12,&lt; period &gt;</li></ul><table><thead><tr><th>Element</th><th>Example</th><th>Description</th></tr></thead><tbody><tr><td>period</td><td>10</td><td>Delivery 패킷 전송 주기(단위: 분)</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="6-example"></a>6. EXAMPLE<a aria-hidden="true" tabindex="-1" class="hash-link" href="#6-example" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="gmmp-delivery-데이터-설정"></a>GMMP Delivery 데이터 설정<a aria-hidden="true" tabindex="-1" class="hash-link" href="#gmmp-delivery-데이터-설정" title="Direct link to heading">#</a></h3><ul><li>AP ssid: SSID</li><li>AP passphrase: 12345678</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">AT</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">OK</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AT</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain">WSET</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">SSID</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">OK</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AT</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain">WSEC</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">12345678</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">OK</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AT</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain">WNET</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">OK</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AT</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain">WJOIN</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Joining </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> SSID</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Successfully joined </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> SSID</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Link</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">Up Event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    IP Addr    </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">192.168</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token number" style="color:rgb(247, 140, 108)">1.4</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Gateway    </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">192.168</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token number" style="color:rgb(247, 140, 108)">1.1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">OK</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">                    </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> WiFi Association</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AT</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain">MMSG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain">               </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> GMMP 디버그 프린트</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">OK</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AT</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain">GMMPOPT</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">OK</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AT</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain">GMMPSET</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">61.250</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token number" style="color:rgb(247, 140, 108)">21.211</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">31002</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">ThingPlug</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">0008</span><span class="token plain">dc000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">WIZnet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">deviceID</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMPStartService </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">61.250</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token number" style="color:rgb(247, 140, 108)">21.211</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">31002</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ThingPlug</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0008</span><span class="token plain">dc000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WIZnet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> deviceID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> GMMPStartService </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> GMMP Thread is running </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">OK</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GmmpRecvThread </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> connect </span><span class="token keyword" style="font-style:italic">try</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">61.250</span><span class="token number" style="color:rgb(247, 140, 108)">.21</span><span class="token number" style="color:rgb(247, 140, 108)">.211</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">31002</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">34208</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">GMMP Connect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">OMP</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">Marker</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">OPS</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">GW</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">OMP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">GW GMMP_SetReg Start</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> Result Code\</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0x0</span><span class="token plain">\</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> STATUS\_OK \</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">code\</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="gmmp-delivery-데이터-설정-1"></a>GMMP Delivery 데이터 설정<a aria-hidden="true" tabindex="-1" class="hash-link" href="#gmmp-delivery-데이터-설정-1" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&lt;&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> GMMP로 ThingPlug 서버로 접속 된 이후 </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AT</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain">GMMPDATA</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">test data</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">OK</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> 전송 주기가 되면 아래 패킷 전송 </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">OMP</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">Marker</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">OPS</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">GW</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">OMP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">GMMP_SetDelivery Start </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">OMP</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">Marker</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">REQ</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  AuthID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0008</span><span class="token plain">dc000000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Auth Key </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">SP10000000key</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  T</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">ID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">89</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Domain Code </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">ThingPlug</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  GW ID</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">SC10000000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Device ID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  ucReportType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0x1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  ucMediaType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0x1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  usMessageBody </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> test data </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> 설정한 데이터</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">GW</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">OMP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">GMMP_SetDelivery End </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Recv Header Type </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Read Body Size </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">43</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">OMP</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">Marker</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">RSP</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">OMP</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain">GW</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">OPERATION_DELIVERY_RSP Start </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  AuthID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0008</span><span class="token plain">dc000000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Auth Key </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">SP10000000key</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  T</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">ID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">89</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Domain Code </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">ThingPlug</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  GW ID</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">SC10000000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Device ID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  Result Code</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0x0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> STATUS_OK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GMMP Trace </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">  unBackOffTime </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">OMP</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">Marker</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">OPE</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Wiznet/document_framework/tree/master/docs/Product/Wi-Fi-Module/WizFi310/Programers-Guide/gmmp_example.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-gmmpglobal-m2m-protocol" class="table-of-contents__link">1. GMMP(Global M2M Protocol)</a></li><li><a href="#2-wizfi310-thingplug-연동" class="table-of-contents__link">2. WizFi310 ThingPlug 연동</a><ul><li><a href="#wizfi310을-thingplug의-디바이스로-등록하기" class="table-of-contents__link">WizFi310을 ThingPlug의 디바이스로 등록하기</a></li><li><a href="#wizfi310-gmmp-등록" class="table-of-contents__link">WizFi310 GMMP 등록</a></li></ul></li><li><a href="#3-gmmp-프로토콜로-데이터-전송" class="table-of-contents__link">3. GMMP 프로토콜로 데이터 전송</a><ul><li><a href="#heartbeat-message" class="table-of-contents__link">HEARTBEAT Message</a></li><li><a href="#delivery-message" class="table-of-contents__link">DELIVERY Message</a></li></ul></li><li><a href="#4-application에서-데이터-조회-및-장치-제어" class="table-of-contents__link">4. Application에서 데이터 조회 및 장치 제어</a><ul><li><a href="#thingplug-openapi-사용-방법" class="table-of-contents__link">ThingPlug OpenAPI 사용 방법</a></li><li><a href="#데이터-조회" class="table-of-contents__link">데이터 조회</a></li><li><a href="#장치-제어" class="table-of-contents__link">장치 제어</a></li></ul></li><li><a href="#5-gmmp-프로토콜을-사용하기-위한-wizfi310-at-commands" class="table-of-contents__link">5. GMMP 프로토콜을 사용하기 위한 WizFi310 AT Commands</a><ul><li><a href="#사용하는-at-command-list" class="table-of-contents__link">사용하는 AT command List</a></li></ul></li><li><a href="#6-example" class="table-of-contents__link">6. EXAMPLE</a><ul><li><a href="#gmmp-delivery-데이터-설정" class="table-of-contents__link">GMMP Delivery 데이터 설정</a></li><li><a href="#gmmp-delivery-데이터-설정-1" class="table-of-contents__link">GMMP Delivery 데이터 설정</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Introduction</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://forum.wiznet.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">WIZnet Forum</a></li><li class="footer__item"><a href="http://maker.wiznet.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">WIZnet Maker</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Wiznet/document_framework" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 WIZnet Co., Ltd. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.413cdf69.js"></script>
<script src="/runtime~main.f54b763e.js"></script>
<script src="/main.fba6c6f6.js"></script>
<script src="/1.171ba466.js"></script>
<script src="/2.b98f2df4.js"></script>
<script src="/3.18a04464.js"></script>
<script src="/1be78505.0d1935e2.js"></script>
<script src="/20ac7829.e3ea8621.js"></script>
<script src="/17896441.629849c2.js"></script>
<script src="/cf6e5a6f.1a6d1d6b.js"></script>
</body>
</html>