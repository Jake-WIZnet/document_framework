<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<link rel="search" type="application/opensearchdescription+xml" title="WIZnet Document System" href="/opensearch.xml"><title data-react-helmet="true">Peripheral_SFR | WIZnet Document System</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Peripheral_SFR | WIZnet Document System"><meta data-react-helmet="true" name="description" content="Peripheral Registers"><meta data-react-helmet="true" property="og:description" content="Peripheral Registers"><meta data-react-helmet="true" property="og:url" content="https://doc.wiznet.io/docs/Product/iMCU/w7100/Peripheral_SFR"><link data-react-helmet="true" rel="shortcut icon" href="/img/wizfavicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://doc.wiznet.io/docs/Product/iMCU/w7100/Peripheral_SFR"><link rel="stylesheet" href="/styles.27799f16.css">
<link rel="preload" href="/styles.413cdf69.js" as="script">
<link rel="preload" href="/runtime~main.f54b763e.js" as="script">
<link rel="preload" href="/main.fba6c6f6.js" as="script">
<link rel="preload" href="/1.171ba466.js" as="script">
<link rel="preload" href="/2.b98f2df4.js" as="script">
<link rel="preload" href="/3.18a04464.js" as="script">
<link rel="preload" href="/1be78505.0d1935e2.js" as="script">
<link rel="preload" href="/20ac7829.e3ea8621.js" as="script">
<link rel="preload" href="/17896441.629849c2.js" as="script">
<link rel="preload" href="/6a9fd681.ea822fd5.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/wiznet_logo_110x37.png" alt="My Site Logo"><strong class="navbar__title"></strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Wiznet/document_framework" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/wiznet_logo_110x37.png" alt="My Site Logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/Wiznet/document_framework" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Peripheral_SFR</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="peripheral-registers"></a>Peripheral Registers<a aria-hidden="true" tabindex="-1" class="hash-link" href="#peripheral-registers" title="Direct link to heading">#</a></h2><p><strong>P0, P1, P2, P3</strong> : Port register. Set direction and read or write pin
logic. Go down to section &#x27;I/O Ports&#x27; for the detailed functionality of
the <a href="/docs/Product/iMCU/w7100/Peripheral_SFR#io_ports">I/O Ports</a>.<br>
<strong>Px_PD</strong> : Port Pull-Down register. Activate 85k Pull-Down resistor at
specific Port Pin. Go down to section &#x27;I/O Ports&#x27; for the detailed
functionality of the <a href="/products/w7100a/io_ports">I/O Ports</a>.<br>
<strong>Px_PU</strong> : Port Pull-Up register. Activate 4k7 Pull-Up resistor at
specific Port Pin. Go down to section &#x27;I/O Ports&#x27; for the detailed
functionality of the <a href="/products/w7100a/io_ports">I/O Ports</a>.<br>
<strong>TCON(0x88)</strong> : Timer 0, 1 configuration register. Go to section
&#x27;Timer&#x27; for the Functionality of Timer 0 and Timer 1.  </p><p><strong>TMOD(0x89)</strong> : Timer 0, 1 control mode register. Go to section &#x27;Timer&#x27;
for the Functionality of Timer 0 and Timer 1.<br>
<strong>TH0(0x8C), TL0(0x8A)</strong> : Counter register of timer 0. Go to section
&#x27;Timer&#x27; for the Functionality of Timer 0 and Timer 1.  </p><p><strong>TH1(0x8D), TL1(0x8B)</strong> : Counter register of timer 1. Go to section
&#x27;Timer&#x27; for the Functionality of Timer 0 and Timer 1.<br>
<strong>SCON(0x98)</strong> : UART Configuration Register. Go to section &#x27;UART&#x27; for
the Functionality of UART.<br>
<strong>SBUF(0x99)</strong> : UART Buffer Register. Go to section &#x27;UART&#x27; for the
Functionality of UART.`<br>
<strong>IE(0xA8)</strong> : UART Bits in Interrupt Enable Register. Go to section
&#x27;UARTâ€˜ for the Functionality of UART.<br>
<strong>IP(0xB8)</strong> : UART Bits in Interrupt Priority Register. Go to section
&#x27;UARTâ€˜ for the Functionality of UART.<br>
<strong>TA(0xC7)</strong> : Timed Access Register. Go to section &#x27;Watchdog Timer&#x27; for
Timed Access Registers of Watchdog Timer.<br>
<strong>T2CON(0xC8)</strong> : Timer 2 Configuration Register. Go to section &#x27;Timer&#x27;
for the Functionality of Timer 2<br>
<strong>RLDH(0xCB), RLDL(0xCA)</strong> : Capture Registers of Timer 2. Go to section
&#x27;Timer&#x27; for the Functionality of Timer 2<br>
<strong>TH2(0xCD), TL2(0xCC)</strong> : Counter Register of Timer 2. Go to section
&#x27;Timer&#x27; for the Functionality of Timer 2<br>
<strong>PSW(0xD0)</strong> : Program Status Word Register. For detail information,
please refer to the section &#x27;ALU&#x27;.</p><p><strong>WDCON(0xD8)</strong> : Watchdog Control Register. Go to section &#x27;Watchdog
Timer&#x27; for Timed Access Registers of Watchdog Timer.  </p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="io-ports--p0-p1-p2-p3"></a>I/O Ports , P0, P1, P2, P3<a aria-hidden="true" tabindex="-1" class="hash-link" href="#io-ports--p0-p1-p2-p3" title="Direct link to heading">#</a></h2><p><img src="/img/products/w7100a/w7100a_port-pin_003.jpg" alt="io_ports">
The GPIO of the <strong>W7100A</strong> MCU has fife operating modes, &#x27;active low&#x27;,
&#x27;high Z&#x27;, &#x27;Pull-up&#x27;, &#x27;Pull-down&#x27; and &#x27;Keep&#x27; according to the SFR values.
The output driver is a simple open drain stage and not a Push-Pull
output. Therefore a low-impedant &#x27;high&#x27; to the output must be performed
with the internal 4k7 pull-up resistor.<br>
With the port registers Px the direction (in or out) of the port pins is
selected.<br>
With the registers Px_PD and Px_PU the internal Pull-Down and Pull-Up
resistors are activated.<br>
The &#x27;Keep&#x27; mode can be made by setting up both pull-up and pull-down
register simultaneously.<br>
The GPIO port register keeps its previous value in the &#x27;Keep&#x27; operating
mode until leaving Keep-Mode.<br>
The I/O port pin functionalities are described in the following table:  </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="io-ports-pin-description"></a>I/O Ports Pin Description<a aria-hidden="true" tabindex="-1" class="hash-link" href="#io-ports-pin-description" title="Direct link to heading">#</a></h4><table><thead><tr><th>Pin</th><th>Active</th><th>Type</th><th>Pu/Pd</th><th>Description</th></tr></thead><tbody><tr><td>P0[7:0]</td><td>-</td><td>IO</td><td>-</td><td>Port0 input / output</td></tr><tr><td>P1[7:0]</td><td>-</td><td>IO</td><td>-</td><td>Port1 input / output</td></tr><tr><td>P2[7:0]</td><td>-</td><td>IO</td><td>-</td><td>Port2 input / output</td></tr><tr><td>P3[7:0]</td><td>-</td><td>IO</td><td>-</td><td>Port3 input / output</td></tr></tbody></table><p>Some port-reading instructions read from the data registers while others
read from the port pin.<br>
The &quot;Read-Modify-Write&quot; instructions are directed to the data registers
as shown below.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="read-modify-write-instructions-register-access"></a>Read-Modify-Write Instructions (register access)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#read-modify-write-instructions-register-access" title="Direct link to heading">#</a></h3><table><thead><tr><th>Instruction</th><th>Function Description</th></tr></thead><tbody><tr><td>ANL</td><td>Logic AND</td></tr><tr><td>ORL</td><td>Logic OR</td></tr><tr><td>XRL</td><td>Logic exclusive OR</td></tr><tr><td>JBC</td><td>Jump if bit is set and cleared</td></tr><tr><td>CPL</td><td>Complement bit</td></tr><tr><td>INC, DEC</td><td>Increment, decrement byte</td></tr><tr><td>DJNZ</td><td>Decrement and jump if not zero</td></tr><tr><td>MOV Px.y, C</td><td>Move carry bit to bit y of port x</td></tr><tr><td>CLR Px.y</td><td>Clear bit y of port x</td></tr><tr><td>SETB Px.y</td><td>Set bit y of port x</td></tr></tbody></table><p>All other instructions read from a port exclusively through the port pins. All port pins can be used as GPIO  (General Purpose Input Output). The output driving voltage of the GPIO is 0V or 3.3V according to the Px_PD and Px_PU SFR value or the GPIO keeps its previous value in current operation mode. \</p><p>Read and write accesses are performed in the I/O ports via their corresponding SFR: P0 (0x80), P1 (0x90), P2 (0xA0), and P3 (0xB0). \
|Px  |Status  |
|-----|-------|
|  0  | output  |
|  1  | input (tri-state)  |</p><p>Internal pull-down (85k) and pull-up (4k7) resistors are activated by Px_PD (0xE3..0xE6) and Px_PU (0xEB..0xEE) register. \
|Px_PU  | Px_PD  | Status  |
|------|--------|-------|
|  0  |  0  | -  |
|  0  |  1  | Pull-down  |
|  1  |  0  | Pull-up  |
|  1  |  1  | Keep mode  |</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="use-case-output"></a>Use case: Output<a aria-hidden="true" tabindex="-1" class="hash-link" href="#use-case-output" title="Direct link to heading">#</a></h3><p>For best output performance activate Px_PU (4k7 pull-up) and use direction register Px to set the port pin to 0 or 1. </p><table><thead><tr><th>direct.</th><th>Px</th><th>Px_PD</th><th>Px_PU</th><th>out</th><th>annotation</th></tr></thead><tbody><tr><td>out</td><td>0</td><td>0</td><td>0</td><td>0</td><td>low imp. (no internal current)</td></tr><tr><td>:::</td><td>:::</td><td>0</td><td>1</td><td>0</td><td>low imp. (0.7mA current in 4k7)</td></tr><tr><td>&#x27;in&#x27;</td><td>1</td><td>0</td><td>1</td><td>1</td><td>4k7 pull-up</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="use-case-input"></a>Use case: Input<a aria-hidden="true" tabindex="-1" class="hash-link" href="#use-case-input" title="Direct link to heading">#</a></h4><p>For best input performance write &#x27;1&#x27; into the Px register. This will
make the port pin high impedant and set input direction. Additionally
and if needed activate the internal resistors with the Px_PD or Px_PU
registers corresponding to your external circuit.<br>
A read operation on the Px register is done directly to the Port Pin
status.  </p><table><thead><tr><th>direct</th><th>Px</th><th>Px_PD</th><th>Px_PU</th><th>in</th><th>annotation</th></tr></thead><tbody><tr><td>in</td><td>1</td><td>0</td><td>0</td><td>-</td><td>high imp. - tri-state (2.5V)</td></tr><tr><td>:::</td><td>:::</td><td>0</td><td>1</td><td>1</td><td>4k7 pull-up</td></tr><tr><td>:::</td><td>:::</td><td>1</td><td>0</td><td>0</td><td>85k pull-down</td></tr><tr><td>:::</td><td>:::</td><td>1</td><td>1</td><td>-</td><td>Keep mode</td></tr></tbody></table><hr><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="all-peripheral-registers"></a>All peripheral registers:<a aria-hidden="true" tabindex="-1" class="hash-link" href="#all-peripheral-registers" title="Direct link to heading">#</a></h4><p><strong>P0(0*80)</strong></p><table><thead><tr><th>7</th><th>6</th><th>5</th><th>4</th><th>3</th><th>2</th><th>1</th><th>0</th><th>Reset value</th></tr></thead><tbody><tr><td>P0.7</td><td>P0.6</td><td>P0.5</td><td>P0.4</td><td>P0.3</td><td>P0.2</td><td>P0.1</td><td>P0.0</td><td>0xFF</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="p1-0x90"></a>P1 (0x90)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#p1-0x90" title="Direct link to heading">#</a></h3><table><thead><tr><th>7</th><th>6</th><th>5</th><th>4</th><th>3</th><th>2</th><th>1</th><th>0</th><th>Reset value</th></tr></thead><tbody><tr><td>P1.7</td><td>P1.6</td><td>P1.5</td><td>P1.4</td><td>P1.3</td><td>P1.2</td><td>P1.1</td><td>P1.0</td><td>0xFF</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="p2-0xa0"></a>P2 (0xA0)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#p2-0xa0" title="Direct link to heading">#</a></h3><table><thead><tr><th>7</th><th>6</th><th>5</th><th>4</th><th>3</th><th>2</th><th>1</th><th>0</th><th>Reset value</th></tr></thead><tbody><tr><td>P2.7</td><td>P2.6</td><td>P2.5</td><td>P2.4</td><td>P2.3</td><td>P2.2</td><td>P2.1</td><td>P2.0</td><td>0xFF</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="p3-0xb0"></a>P3 (0xB0)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#p3-0xb0" title="Direct link to heading">#</a></h3><table><thead><tr><th>7</th><th>6</th><th>5</th><th>4</th><th>3</th><th>2</th><th>1</th><th>0</th><th>Reset value</th></tr></thead><tbody><tr><td>P3.7</td><td>P3.6</td><td>P3.5</td><td>P3.4</td><td>P3.3</td><td>P3.2</td><td>P3.1</td><td>P3.0</td><td>0xFF</td></tr></tbody></table></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Wiznet/document_framework/tree/master/docs/Product/iMCU/w7100/Peripheral_SFR.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#peripheral-registers" class="table-of-contents__link">Peripheral Registers</a></li><li><a href="#io-ports--p0-p1-p2-p3" class="table-of-contents__link">I/O Ports , P0, P1, P2, P3</a><ul><li><a href="#read-modify-write-instructions-register-access" class="table-of-contents__link">Read-Modify-Write Instructions (register access)</a></li><li><a href="#use-case-output" class="table-of-contents__link">Use case: Output</a></li><li><a href="#p1-0x90" class="table-of-contents__link">P1 (0x90)</a></li><li><a href="#p2-0xa0" class="table-of-contents__link">P2 (0xA0)</a></li><li><a href="#p3-0xb0" class="table-of-contents__link">P3 (0xB0)</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Introduction</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://forum.wiznet.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">WIZnet Forum</a></li><li class="footer__item"><a href="http://maker.wiznet.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">WIZnet Maker</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Wiznet/document_framework" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 WIZnet Co., Ltd. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.413cdf69.js"></script>
<script src="/runtime~main.f54b763e.js"></script>
<script src="/main.fba6c6f6.js"></script>
<script src="/1.171ba466.js"></script>
<script src="/2.b98f2df4.js"></script>
<script src="/3.18a04464.js"></script>
<script src="/1be78505.0d1935e2.js"></script>
<script src="/20ac7829.e3ea8621.js"></script>
<script src="/17896441.629849c2.js"></script>
<script src="/6a9fd681.ea822fd5.js"></script>
</body>
</html>